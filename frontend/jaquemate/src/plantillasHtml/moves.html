<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JaqueMate - Lista de Jugadas</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="moves.css">
</head>
<body>
    <header>
        <nav>
            <div class="nav-left">
                <a href="home.html" class="nav-btn logo">JaqueMate</a>
                <a href="juego.html" class="nav-btn">Juego</a>
                <a href="moves.html" class="nav-btn">Lista Jugadas</a>
            </div>
            <div class="nav-right">
                <a href="login.html" class="nav-btn">Login</a>
                <a href="registro.html" class="nav-btn">Registro</a>
                <a href="perfil.html" class="nav-btn">Perfil</a>
                <button class="nav-btn logout-btn">Logout</button>
            </div>
        </nav>
    </header>

    <main>
        <div class="moves-wrapper">
            <!-- Header -->
            <div class="moves-header">
                <h1>Lista de Jugadas</h1>
            </div>

            <!-- Filtros -->
            <div class="filters-section">
                <div class="filter-group">
                    <label for="playerFilter">Filtrar por Jugador:</label>
                    <input type="text" id="playerFilter" placeholder="Nombre del jugador">
                </div>
            </div>

            <!-- Tabla de Jugadas -->
            <table class="moves-table">
                <thead>
                    <tr>
                        <th class="sortable" data-sort="player">Jugador</th>
                        <th class="sortable" data-sort="fen">FEN</th>
                        <th class="sortable" data-sort="uci">UCI</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="movesTableBody">
                    <tr><td colspan="4" class="loading-state">No hay jugadas registradas</td></tr>
                </tbody>
            </table>

            <!-- Paginaci√≥n y CSV -->
            <div class="bottom-section">
                <div class="csv-buttons">
                    <div class="file-input-wrapper">
                        <input type="file" id="csvFileInput" accept=".csv" />
                        <label for="csvFileInput" class="file-input-label">üì§ Importar CSV</label>
                    </div>
                    <button class="main-btn" id="exportCsvBtn">üì• Exportar CSV</button>
                </div>

                <div class="pagination-section">
                    <span class="pagination-info">
                        P√°gina <span id="currentPage">1</span> de <span id="totalPages">1</span>
                        | Total: <span id="totalMoves">0</span> jugadas
                    </span>
                    <div class="pagination-buttons">
                        <button class="pagination-btn" id="firstPageBtn">‚èÆ Primera</button>
                        <button class="pagination-btn" id="prevPageBtn">‚óÄ Anterior</button>
                        <button class="pagination-btn" id="nextPageBtn">Siguiente ‚ñ∂</button>
                        <button class="pagination-btn" id="lastPageBtn">√öltima ‚è≠</button>
                    </div>
                </div>
            </div>

            <!-- Modal para Preview de CSV -->
            <div class="modal-overlay" id="csvModal">
                <div class="modal">
                    <div class="modal-header">Vista Previa de CSV</div>
                    <p class="modal-preview-info">
                        Se importar√°n <span id="csvPreviewCount">0</span> jugada(s)
                    </p>
                    <table class="modal-preview-table" id="csvPreviewTable">
                        <thead>
                            <tr>
                                <th>Jugador</th>
                                <th>FEN</th>
                                <th>UCI</th>
                            </tr>
                        </thead>
                        <tbody id="csvPreviewBody">
                        </tbody>
                    </table>
                    <div class="modal-actions">
                        <button class="modal-btn cancel" id="csvCancelBtn">Cancelar</button>
                        <button class="modal-btn confirm" id="csvConfirmBtn">Guardar en Base de Datos</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>Participantes: Richart Rubio, Moha Amri, Patryk Kowalik, Yordan Radkov | DAW 2025</p>
    </footer>
</body>
</html>
